const GAS_URL = 'https://script.google.com/macros/s/AKfycbxFGxEyipDuOPG9KAdKvq3B9V4Q_7M5Er4eK6_3xSo6LHQ52jR9w8gnB5a2aN3KCGpp/exec';

function sendLocation() {
  if (!navigator.geolocation) {
    alert('Геолокация не поддерживается вашим браузером');
    return;
  }
  navigator.geolocation.getCurrentPosition(position => {
    fetch(GAS_URL, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        latitude: position.coords.latitude,
        longitude: position.coords.longitude
      })
    })
    .then(response => response.text())
    .then(data => alert('Координаты отправлены!'))
    .catch(err => alert('Ошибка отправки: ' + err));
  }, err => alert('Ошибка геолокации: ' + err.message));
}
